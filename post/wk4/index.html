<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Import, Export and Manage Data - STAT 818: Introduction to R</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="yli8" />
  <meta name="description" content="" />

  <meta name="keywords" content="STAT 818, R" />






<meta name="generator" content="Hugo 0.111.3" />


<link rel="canonical" href="https://lyqglyqg.github.io/STAT-818/post/wk4/" />





<link rel="icon" href="/STAT-818/favicon.ico" />











<link rel="stylesheet" href="/STAT-818/sass/jane.min.de22abc00de44766eebd1054fd9e0b254b071f89d5019044f893c484a9249a8d.css" integrity="sha256-3iKrwA3kR2buvRBU/Z4LJUsHH4nVAZBE&#43;JPEhKkkmo0=" media="screen" crossorigin="anonymous">







<meta property="og:title" content="Import, Export and Manage Data" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lyqglyqg.github.io/STAT-818/post/wk4/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-02-08T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-02-08T00:00:00+00:00" />
<meta itemprop="name" content="Import, Export and Manage Data">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2023-02-08T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-02-08T00:00:00+00:00" />
<meta itemprop="wordCount" content="2015">
<meta itemprop="keywords" content="R,Dataframe,Read files,Write files," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Import, Export and Manage Data"/>
<meta name="twitter:description" content=""/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">STAT 818: Introduction to R</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lyqglyqg.github.io/STAT-818/">Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lyqglyqg.github.io/STAT-818/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lyqglyqg.github.io/STAT-818/categories/">Categories</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lyqglyqg.github.io/STAT-818/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://lyqglyqg.github.io/STAT-818/about/">Couse Syllabus</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          <div class="mobile-menu-parent">
            <span class="mobile-submenu-open"></span>
            <a href="https://lyqglyqg.github.io/STAT-818/">
              docs
            </a>
          </div>
          <ul class="mobile-submenu-list">
            
              <li>
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk7/">Data visualization</a>
              </li>
            
              <li>
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk6/">Functions, control statements, packaging and debugging</a>
              </li>
            
              <li>
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk4/">Import, Export and Manage Data</a>
              </li>
            
              <li>
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk2/">R Objects I: Vector, Matrix, and Array</a>
              </li>
            
              <li>
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk3/">R Objects II: List, Factor, and Data Frame</a>
              </li>
            
              <li>
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk8/">R packages and example statistical analysis I</a>
              </li>
            
              <li>
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk9/">R packages and example statistical analysis II</a>
              </li>
            
              <li>
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk5/">Reproducible Research: Using R Markdown</a>
              </li>
            
          </ul>
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      STAT 818: Introduction to R
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lyqglyqg.github.io/STAT-818/">Home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lyqglyqg.github.io/STAT-818/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lyqglyqg.github.io/STAT-818/categories/">Categories</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lyqglyqg.github.io/STAT-818/tags/">Tags</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://lyqglyqg.github.io/STAT-818/about/">Couse Syllabus</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          <a class="menu-item-link menu-parent" href="https://lyqglyqg.github.io/STAT-818/">docs</a>
          <ul class="submenu">
            
              <li class="submenu-item">
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk7/">Data visualization</a>
              </li>
            
              <li class="submenu-item">
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk6/">Functions, control statements, packaging and debugging</a>
              </li>
            
              <li class="submenu-item">
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk4/">Import, Export and Manage Data</a>
              </li>
            
              <li class="submenu-item">
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk2/">R Objects I: Vector, Matrix, and Array</a>
              </li>
            
              <li class="submenu-item">
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk3/">R Objects II: List, Factor, and Data Frame</a>
              </li>
            
              <li class="submenu-item">
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk8/">R packages and example statistical analysis I</a>
              </li>
            
              <li class="submenu-item">
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk9/">R packages and example statistical analysis II</a>
              </li>
            
              <li class="submenu-item">
                <a href="https://lyqglyqg.github.io/STAT-818/post/wk5/">Reproducible Research: Using R Markdown</a>
              </li>
            
          </ul>

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight wallpaper">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Import, Export and Manage Data</h1>
      

      <div class="post-meta">
  <div class="post-meta-author">
    by
      yli8
    
  </div>

  <div class="post-meta-time">
    <time datetime="2023-02-08">
      2023-02-08
    </time>
  </div>

  


  <div class="post-meta__right">
    

    <div class="post-meta-category">
        <a href="https://lyqglyqg.github.io/STAT-818/categories/r/"> R </a>
          <a href="https://lyqglyqg.github.io/STAT-818/categories/dataframe/"> Dataframe </a>
          <a href="https://lyqglyqg.github.io/STAT-818/categories/read-files/"> Read files </a>
          <a href="https://lyqglyqg.github.io/STAT-818/categories/write-files/"> Write files </a>
          
      </div>


    
    


    
    
  </div>
</div>

    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#importing">Importing</a>
      <ul>
        <li><a href="#importing-from-files">Importing from files</a></li>
        <li><a href="#importing-from-online-repositories">Importing from online repositories.</a></li>
        <li><a href="#importing-neuroimaging-data">Importing neuroimaging data</a></li>
      </ul>
    </li>
    <li><a href="#exporting">Exporting</a></li>
    <li><a href="#management">Management</a></li>
  </ul>
</nav>
  </div>
</div>


    
    <div class="post-content">
      <h2 id="importing">Importing</h2>
<ul>
<li>First thing I would like to do and also strongly recommend you to do is to setup a working directory. For example, I created a directory &ldquo;STAT818&rdquo; on my Desktop. I also created a sub-directory &ldquo;data&rdquo; in the &ldquo;STAT818&rdquo; folder and put all my STAT818 datasets  in it (you can downloaded from <a href="https://canvas.ku.edu/">Canvas</a>). Every time I am working on a STAT818 homework or project, I setup my working directory to be &ldquo;STAT818&rdquo; using the syntax:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">setwd</span>(<span style="color:#e6db74">&#34;/Desktop/STAT818/&#34;</span>)
</span></span></code></pre></div><ul>
<li>To check where is your current working directory, you can use the syntax:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getwd</span>()
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;/Desktop/STAT818/&#34;</span>
</span></span></code></pre></div><h3 id="importing-from-files">Importing from files</h3>
<ul>
<li>Data input using <code>read.table()</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> turtles <span style="color:#f92672">=</span> <span style="color:#a6e22e">read.table</span>(<span style="color:#e6db74">&#34;./data/PaintedTurtles.txt&#34;</span>, header <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)  <span style="color:#75715e"># Note that my working directory is the STAT818 folder. You will need to provide the full path of the &#34;PaintedTurtles.txt&#34; file otherwise.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> turtles[1<span style="color:#f92672">:</span><span style="color:#ae81ff">4</span>, ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  sex length width height
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>   f     <span style="color:#ae81ff">98</span>    <span style="color:#ae81ff">81</span>     <span style="color:#ae81ff">38</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>   f    <span style="color:#ae81ff">103</span>    <span style="color:#ae81ff">84</span>     <span style="color:#ae81ff">38</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>   f    <span style="color:#ae81ff">103</span>    <span style="color:#ae81ff">86</span>     <span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>   f    <span style="color:#ae81ff">105</span>    <span style="color:#ae81ff">86</span>     <span style="color:#ae81ff">40</span>
</span></span></code></pre></div><ul>
<li>Data input using <code>read.csv()</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> diabetes <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;diabetes.csv&#34;</span>) 
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> diabetes[1<span style="color:#f92672">:</span><span style="color:#ae81ff">4</span>, ]
</span></span><span style="display:flex;"><span>  id relwt glufast glutest steady insulin group
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">0.81</span>      <span style="color:#ae81ff">80</span>     <span style="color:#ae81ff">356</span>    <span style="color:#ae81ff">124</span>      <span style="color:#ae81ff">55</span>     <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">0.94</span>     <span style="color:#ae81ff">105</span>     <span style="color:#ae81ff">319</span>    <span style="color:#ae81ff">143</span>     <span style="color:#ae81ff">105</span>     <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">1.00</span>      <span style="color:#ae81ff">90</span>     <span style="color:#ae81ff">323</span>    <span style="color:#ae81ff">240</span>     <span style="color:#ae81ff">143</span>     <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">0.91</span>     <span style="color:#ae81ff">100</span>     <span style="color:#ae81ff">350</span>    <span style="color:#ae81ff">221</span>     <span style="color:#ae81ff">119</span>     <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### csv files always contain a header line. Usually, don&#39;t need to specify &#34;header = TRUE&#34;. However, if you specify &#34;header = FALSE&#34;, then read.csv() will create a header line and treat the actual header line as the 1st row of data body!</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> diabetes <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;diabetes.csv&#34;</span>, header<span style="color:#f92672">=</span><span style="color:#66d9ef">FALSE</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> diabetes[1<span style="color:#f92672">:</span><span style="color:#ae81ff">4</span>, ]
</span></span><span style="display:flex;"><span>  V1    V2      V3      V4     V5      V6    V7
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> id relwt glufast glutest steady insulin group
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">0.81</span>      <span style="color:#ae81ff">80</span>     <span style="color:#ae81ff">356</span>    <span style="color:#ae81ff">124</span>      <span style="color:#ae81ff">55</span>     <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">0.94</span>     <span style="color:#ae81ff">105</span>     <span style="color:#ae81ff">319</span>    <span style="color:#ae81ff">143</span>     <span style="color:#ae81ff">105</span>     <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>   <span style="color:#ae81ff">1.0</span>      <span style="color:#ae81ff">90</span>     <span style="color:#ae81ff">323</span>    <span style="color:#ae81ff">240</span>     <span style="color:#ae81ff">143</span>     <span style="color:#ae81ff">3</span>
</span></span></code></pre></div><ul>
<li>Data input using <code>openxlsx()</code>.</li>
</ul>
<p>The function <code>openxlsx()</code> is from <em>R</em> package <code>openxlsx</code>. First, install the <code>openxlsx</code> package by</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#39;openxlsx&#39;</span>)
</span></span></code></pre></div><p>Or install it from &ldquo;Install Packages&rdquo; in your RStudio. We will talk about install R packages in a later section.</p>
<p>There are other R packages that can be used for reading and writing .xlsx files. For example, <code>&quot;readxl&quot;</code> and <code>&quot;xlsx&quot;</code>. They all follow similar syntax lines as provided here.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="background-color:#3c3d38"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span></span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">library</span>(openxlsx)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Employee <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.xlsx</span>(<span style="color:#e6db74">&#34;Employee Sample Data.xlsx&#34;</span>, sheet<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex; background-color:#3c3d38"><span><span style="color:#75715e">### Since .xlsx file could contain multiple sheets, you will need to use the &#34;sheet=&#34; option to specify which sheet you would like to read in!</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Employee[1<span style="color:#f92672">:</span><span style="color:#ae81ff">5</span>, ]
</span></span><span style="display:flex;"><span>    EEID       Full.Name                Job.Title Department
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> E02387     Emily Davis               Sr. Manger         IT
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span> E04105   Theodore Dinh      Technical Architect         IT
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span> E02572    Luna Sanders                 Director    Finance
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span> E02832 Penelope Jordan Computer Systems Manager         IT
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span> E01639       Austin Vo              Sr. Analyst    Finance
</span></span><span style="display:flex;"><span>           Business.Unit Gender Ethnicity Age Hire.Date Annual.Salary Bonus.%
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> Research <span style="color:#f92672">&amp;</span> Development Female     Black  <span style="color:#ae81ff">55</span>     <span style="color:#ae81ff">42468</span>        <span style="color:#ae81ff">141604</span>    <span style="color:#ae81ff">0.15</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>          Manufacturing   Male     Asian  <span style="color:#ae81ff">59</span>     <span style="color:#ae81ff">35763</span>         <span style="color:#ae81ff">99975</span>    <span style="color:#ae81ff">0.00</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>    Speciality Products Female Caucasian  <span style="color:#ae81ff">50</span>     <span style="color:#ae81ff">39016</span>        <span style="color:#ae81ff">163099</span>    <span style="color:#ae81ff">0.20</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>          Manufacturing Female Caucasian  <span style="color:#ae81ff">26</span>     <span style="color:#ae81ff">43735</span>         <span style="color:#ae81ff">84913</span>    <span style="color:#ae81ff">0.07</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>          Manufacturing   Male     Asian  <span style="color:#ae81ff">55</span>     <span style="color:#ae81ff">35023</span>         <span style="color:#ae81ff">95409</span>    <span style="color:#ae81ff">0.00</span>
</span></span><span style="display:flex;"><span>        Country      City Exit.Date
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> United States   Seattle     <span style="color:#ae81ff">44485</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>         China Chongqing        <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span> United States   Chicago        <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span> United States   Chicago        <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span> United States   Phoenix        <span style="color:#66d9ef">NA</span></span></span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li>Reading data from a file using <code>scan()</code></li>
</ul>
<p>Functions like &ldquo;read.table()&rdquo; and &ldquo;read.csv()&rdquo; are superb for reading in dataframes with a fixed number of rows and colums (i.e. matrix look-alike datasets). For irregular or non-standard shaped data, &ldquo;scan()&rdquo; and &ldquo;readlines()&rdquo; can be used.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="background-color:#3c3d38"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span></span><span style="background-color:#3c3d38"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span></span><span style="background-color:#3c3d38"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></span><span style="background-color:#3c3d38"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></span><span style="background-color:#3c3d38"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="background-color:#3c3d38"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span></span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> GSE217527 <span style="color:#f92672">&lt;-</span>  <span style="color:#a6e22e">read.table</span>(<span style="color:#e6db74">&#34;GSE217537_family.soft&#34;</span>)
</span></span><span style="display:flex;"><span>Error in <span style="color:#a6e22e">scan</span>(file <span style="color:#f92672">=</span> file, what <span style="color:#f92672">=</span> what, sep <span style="color:#f92672">=</span> sep, quote <span style="color:#f92672">=</span> quote, dec <span style="color:#f92672">=</span> dec,  <span style="color:#f92672">:</span> 
</span></span><span style="display:flex;"><span>  line <span style="color:#ae81ff">1</span> did not have <span style="color:#ae81ff">6</span> elements
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> GSE217537 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">scan</span>(<span style="color:#e6db74">&#34;GSE217537_family.soft&#34;</span>, what<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;character&#34;</span>, sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>Read <span style="color:#ae81ff">5807</span> items
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex; background-color:#3c3d38"><span><span style="color:#75715e">### By default, &#34;scan ()&#34; reads in double precision numbers. If not, then</span>
</span></span><span style="display:flex; background-color:#3c3d38"><span><span style="color:#75715e">### one needs to use the &#34;what=&#34; argument to specify the inputting (character,</span>
</span></span><span style="display:flex; background-color:#3c3d38"><span><span style="color:#75715e">### logical, integer, complex or list). By default, scan () expects to read space-delimited</span>
</span></span><span style="display:flex; background-color:#3c3d38"><span><span style="color:#75715e">### or tab-delimited input fields. If the input file has separators other than blank spaces or tab markers -- &#34;\t&#34;,</span>
</span></span><span style="display:flex; background-color:#3c3d38"><span><span style="color:#75715e">### then one needs to specify the separator option (e.g. sep = &#34;\n&#34;) to specify the character which delimits fields.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">length</span>(GSE217537)
</span></span><span style="display:flex;"><span>[1] <span style="color:#ae81ff">5807</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> GSE217537[1<span style="color:#f92672">:</span><span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;^DATABASE = GeoMiame&#34;</span>                                
</span></span><span style="display:flex;"><span>[2] <span style="color:#e6db74">&#34;!Database_name = Gene Expression Omnibus (GEO)&#34;</span>      
</span></span><span style="display:flex;"><span>[3] <span style="color:#e6db74">&#34;!Database_institute = NCBI NLM NIH&#34;</span>                  
</span></span><span style="display:flex;"><span>[4] <span style="color:#e6db74">&#34;!Database_web_link = http://www.ncbi.nlm.nih.gov/geo&#34;</span>
</span></span><span style="display:flex;"><span>[5] <span style="color:#e6db74">&#34;!Database_email = geo@ncbi.nlm.nih.gov&#34;</span>     
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">readLines</span>(<span style="color:#e6db74">&#34;GSE217537_family.soft&#34;</span>, n<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;^DATABASE = GeoMiame&#34;</span>                                
</span></span><span style="display:flex;"><span>[2] <span style="color:#e6db74">&#34;!Database_name = Gene Expression Omnibus (GEO)&#34;</span>      
</span></span><span style="display:flex;"><span>[3] <span style="color:#e6db74">&#34;!Database_institute = NCBI NLM NIH&#34;</span>                  
</span></span><span style="display:flex;"><span>[4] <span style="color:#e6db74">&#34;!Database_web_link = http://www.ncbi.nlm.nih.gov/geo&#34;</span>
</span></span><span style="display:flex;"><span>[5] <span style="color:#e6db74">&#34;!Database_email = geo@ncbi.nlm.nih.gov&#34;</span>              
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex; background-color:#3c3d38"><span><span style="color:#75715e">### The argument &#34;n=&#34; specifies the number of lines to read.        </span></span></span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li>
<p>Build-in datasets</p>
<p>R contains several built-in datasets that can be loaded. Others
datasets are available in packages that can be downloaded from
CRAN.</p>
<p>[1] <code>data()</code> displays a list of all datasets currently available and can be used to
load R built-in datasets.</p>
<p>[2] <code>data(package=&quot;NAME&quot;)</code> will load data from an R package.</p>
<p>[3] <code>attach()</code> attaches a data frame into global environment. After this
attach() function is executed. The columns can be directly indexed instead
of using both data frame name and the column name.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">data</span>()
</span></span><span style="display:flex;"><span>Data sets in package ‘datasets’<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>AirPassengers           Monthly Airline Passenger Numbers <span style="color:#ae81ff">1949-1960</span>
</span></span><span style="display:flex;"><span>BJsales                 Sales Data with Leading Indicator
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">BJsales.lead </span>(BJsales)
</span></span><span style="display:flex;"><span>                        Sales Data with Leading Indicator
</span></span><span style="display:flex;"><span>BOD                     Biochemical Oxygen Demand
</span></span><span style="display:flex;"><span>CO2                     Carbon Dioxide Uptake in Grass Plants
</span></span><span style="display:flex;"><span>ChickWeight             Weight versus age of chicks on different diets
</span></span><span style="display:flex;"><span>DNase                   Elisa assay of DNase
</span></span><span style="display:flex;"><span>EuStockMarkets          Daily Closing Prices of Major European Stock
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Press &#34;q&#34; to exist the printout.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">data</span>(mtcars)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> mtcars[1<span style="color:#f92672">:</span><span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>                   mpg cyl disp  hp drat
</span></span><span style="display:flex;"><span>Mazda RX4         <span style="color:#ae81ff">21.0</span>   <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">160</span> <span style="color:#ae81ff">110</span> <span style="color:#ae81ff">3.90</span>
</span></span><span style="display:flex;"><span>Mazda RX4 Wag     <span style="color:#ae81ff">21.0</span>   <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">160</span> <span style="color:#ae81ff">110</span> <span style="color:#ae81ff">3.90</span>
</span></span><span style="display:flex;"><span>Datsun <span style="color:#ae81ff">710</span>        <span style="color:#ae81ff">22.8</span>   <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">108</span>  <span style="color:#ae81ff">93</span> <span style="color:#ae81ff">3.85</span>
</span></span><span style="display:flex;"><span>Hornet <span style="color:#ae81ff">4</span> Drive    <span style="color:#ae81ff">21.4</span>   <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">258</span> <span style="color:#ae81ff">110</span> <span style="color:#ae81ff">3.08</span>
</span></span><span style="display:flex;"><span>Hornet Sportabout <span style="color:#ae81ff">18.7</span>   <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">360</span> <span style="color:#ae81ff">175</span> <span style="color:#ae81ff">3.15</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> cyl
</span></span><span style="display:flex;"><span>Error<span style="color:#f92672">:</span> object <span style="color:#e6db74">&#39;cyl&#39;</span> not found
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> cyl
</span></span><span style="display:flex;"><span> [1] <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">detach</span>(mtcars)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">data</span>(chredlin)
</span></span><span style="display:flex;"><span>Warning message<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>In <span style="color:#a6e22e">data</span>(chredlin) <span style="color:#f92672">:</span> data set ‘chredlin’ not found
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">data</span>(chredlin, package <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;faraway&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">tail</span>(chredlin, n<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>) <span style="color:#75715e">## last 3 rows</span>
</span></span><span style="display:flex;"><span>      race fire theft  age involact income side
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">60627</span> <span style="color:#ae81ff">47.4</span>  <span style="color:#ae81ff">7.0</span>     <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">11.4</span>      <span style="color:#ae81ff">0.2</span> <span style="color:#ae81ff">10.080</span>    s
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">60633</span> <span style="color:#ae81ff">34.0</span>  <span style="color:#ae81ff">7.1</span>    <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">49.2</span>      <span style="color:#ae81ff">0.3</span> <span style="color:#ae81ff">11.428</span>    s
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">60645</span>  <span style="color:#ae81ff">3.1</span>  <span style="color:#ae81ff">4.9</span>    <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">46.6</span>      <span style="color:#ae81ff">0.0</span> <span style="color:#ae81ff">13.731</span>    n
</span></span></code></pre></div><ul>
<li>Load data from an R image &lsquo;.rdata&rsquo; file.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">load</span>(<span style="color:#e6db74">&#34;./data/Msig3transp.RData&#34;</span>)
</span></span><span style="display:flex;"><span>Msig3transp[1<span style="color:#f92672">:</span><span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                  X3968     X14831      X13492      X5108     X16348
</span></span><span style="display:flex;"><span>HEA26_EFFE_1 <span style="color:#ae81ff">-2.6108361</span> <span style="color:#ae81ff">-1.1857923</span> <span style="color:#ae81ff">-0.05612926</span> <span style="color:#ae81ff">-0.1470299</span>  <span style="color:#ae81ff">0.5230758</span>
</span></span><span style="display:flex;"><span>HEA26_MEM_1  <span style="color:#ae81ff">-2.2592865</span> <span style="color:#ae81ff">-0.4718562</span>  <span style="color:#ae81ff">0.27730991</span>  <span style="color:#ae81ff">0.5438521</span> <span style="color:#ae81ff">-0.3659554</span>
</span></span><span style="display:flex;"><span>HEA26_NAI_1  <span style="color:#ae81ff">-0.2719081</span>  <span style="color:#ae81ff">0.8170308</span>  <span style="color:#ae81ff">0.81269167</span>  <span style="color:#ae81ff">0.7198425</span> <span style="color:#ae81ff">-0.9049818</span>
</span></span><span style="display:flex;"><span>MEL36_EFFE_1 <span style="color:#ae81ff">-2.2431022</span> <span style="color:#ae81ff">-1.0806009</span> <span style="color:#ae81ff">-0.23557156</span> <span style="color:#ae81ff">-0.1760595</span>  <span style="color:#ae81ff">0.6406782</span>
</span></span><span style="display:flex;"><span>MEL36_MEM_1  <span style="color:#ae81ff">-2.6798807</span> <span style="color:#ae81ff">-0.1463671</span>  <span style="color:#ae81ff">0.24909402</span>  <span style="color:#ae81ff">0.9519808</span> <span style="color:#ae81ff">-0.2040837</span>
</span></span><span style="display:flex;"><span>                    X585
</span></span><span style="display:flex;"><span>HEA26_EFFE_1 <span style="color:#ae81ff">-0.01816524</span>
</span></span><span style="display:flex;"><span>HEA26_MEM_1   <span style="color:#ae81ff">0.10784211</span>
</span></span><span style="display:flex;"><span>HEA26_NAI_1   <span style="color:#ae81ff">0.74819063</span>
</span></span><span style="display:flex;"><span>MEL36_EFFE_1  <span style="color:#ae81ff">0.01000666</span>
</span></span><span style="display:flex;"><span>MEL36_MEM_1   <span style="color:#ae81ff">0.16530245</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">###Msig3transp.RData is about gene expression data of T-cell populations from different subjects (Holmes et al. 2005). Each column corresponds to a gene and each row corresponds to a cell.</span>
</span></span></code></pre></div><h3 id="importing-from-online-repositories">Importing from online repositories.</h3>
<p>Publicaly accessible online databases and repositories have become more and more popular. It is usually much more convenient to import data directly from online repositories than to download them manually and then read in them using functions like &ldquo;read.table()&rdquo; or &ldquo;read.csv()&rdquo;.</p>
<p>Here is my favorate example: &ldquo;UCSCXenaTools&rdquo; &ndash; an R package for Accessing Genomics Data from UCSC Xena platform, from Cancer Multi-omics to Single-cell RNA-seq. Details of this package can be found <a href="https://cran.r-project.org/web/packages/UCSCXenaTools/vignettes/USCSXenaTools.html">here</a>. The following <em>R</em> Scodes how to download <code>breast cancer</code> <code>clinical data</code> from <code>TCGA Hub</code> (<a href="https://tcga.xenahubs.net/)">https://tcga.xenahubs.net/)</a>. TCGA stands for The Cancer Genome Altas. It is a landmark cancer genomics program initiated by National Cancer Institute and National Human Genome Research Institute. It hubs multi-omics and clinical data for over 20,000 primary cancer and matched normal samples for 33 cancer types.</p>
<p><em>In order to download the data successfully, please make sure your computer is linked to the Internet.</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;UCSCXenaTools&#34;</span>) <span style="color:#75715e"># Or install it from RStudio: Tools -&gt; Install Packages</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;data.table&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">library</span>(UCSCXenaTools)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; =========================================================================================</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; UCSCXenaTools version 1.4.8</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Project URL: https://github.com/ropensci/UCSCXenaTools</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Usages: https://cran.r-project.org/web/packages/UCSCXenaTools/vignettes/USCSXenaTools.html</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; If you use it in published research, please cite:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Wang et al., (2019). The UCSCXenaTools R package: a toolkit for accessing genomics data</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   from UCSC Xena platform, from cancer multi-omics to single-cell RNA-seq.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Journal of Open Source Software, 4(40), 1627, https://doi.org/10.21105/joss.01627</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; =========================================================================================</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                               --Enjoy it--</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">data</span>(XenaData)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">head</span>(XenaData)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; # A tibble: 6 × 17</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   XenaHosts XenaHostNames XenaCohorts XenaDatasets SampleCount DataSubtype Label</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   &lt;chr&gt;     &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;              &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 https://… publicHub     Breast Can… ucsfNeve_pu…          51 gene expre… Neve…</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 https://… publicHub     Breast Can… ucsfNeve_pu…          57 phenotype   Phen…</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3 https://… publicHub     Glioma (Ko… kotliarov20…         194 copy number Kotl…</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4 https://… publicHub     Glioma (Ko… kotliarov20…         194 phenotype   Phen…</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5 https://… publicHub     Lung Cance… weir2007_pu…         383 copy number CGH  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6 https://… publicHub     Lung Cance… weir2007_pu…         383 phenotype   Phen…</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; # … with 10 more variables: Type &lt;chr&gt;, AnatomicalOrigin &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   SampleType &lt;chr&gt;, Tags &lt;chr&gt;, ProbeMap &lt;chr&gt;, LongTitle &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   Citation &lt;chr&gt;, Version &lt;chr&gt;, Unit &lt;chr&gt;, Platform &lt;chr&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> paraCohort <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;TCGA Breast Cancer&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> paraDatasets <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;BRCA_clinicalMatrix&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Clin_TCGA <span style="color:#f92672">=</span> <span style="color:#a6e22e">XenaGenerate</span>(subset <span style="color:#f92672">=</span> XenaHostNames <span style="color:#f92672">==</span><span style="color:#e6db74">&#34;tcgaHub&#34;</span>) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">XenaFilter</span>(filterCohorts <span style="color:#f92672">=</span> paraCohort) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">XenaFilter</span>(filterDatasets <span style="color:#f92672">=</span> paraDatasets)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">XenaQuery</span>(Clin_TCGA) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">XenaDownload</span>(destdir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;./&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">library</span>(data.table)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Clin_TCGA_BRCA <span style="color:#f92672">=</span> <span style="color:#a6e22e">fread</span>(<span style="color:#e6db74">&#34;TCGA.BRCA.sampleMap/BRCA_clinicalMatrix&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">dim</span>(Clin_TCGA_BRCA)
</span></span><span style="display:flex;"><span>[1] <span style="color:#ae81ff">1247</span>  <span style="color:#ae81ff">194</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Clin_TCGA_BRCA[10<span style="color:#f92672">:</span><span style="color:#ae81ff">20</span>, <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">8</span><span style="color:#f92672">:</span><span style="color:#ae81ff">15</span>)]
</span></span><span style="display:flex;"><span>           sampleID ER_Status_nature2012 Gender_nature2012
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SD<span style="color:#ae81ff">-01</span>             Positive            FEMALE
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SE<span style="color:#ae81ff">-01</span>             Positive            FEMALE
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SF<span style="color:#ae81ff">-01</span>             Positive            FEMALE
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SG<span style="color:#ae81ff">-01</span>             Positive            FEMALE
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SH<span style="color:#ae81ff">-01</span>             Negative            FEMALE
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">6</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SI<span style="color:#ae81ff">-01</span>             Positive            FEMALE
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">7</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SJ<span style="color:#ae81ff">-01</span>             Positive            FEMALE
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">8</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SK<span style="color:#ae81ff">-01</span>             Negative            FEMALE
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">9</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SM<span style="color:#ae81ff">-01</span>             Positive              MALE
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SN<span style="color:#ae81ff">-01</span>             Positive            FEMALE
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span><span style="color:#f92672">:</span> TCGA<span style="color:#f92672">-</span>A1<span style="color:#f92672">-</span>A0SO<span style="color:#ae81ff">-01</span>             Negative            FEMALE
</span></span><span style="display:flex;"><span>    HER2_Final_Status_nature2012 Integrated_Clusters_no_exp__nature2012
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>                     Negative                                     <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>                     Negative                                     <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>                     Negative                                     <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span>                     Negative                                     <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span>                     Negative                                      <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">6</span><span style="color:#f92672">:</span>                     Negative                                     <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">7</span><span style="color:#f92672">:</span>                     Negative                                      <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">8</span><span style="color:#f92672">:</span>                     Negative                                      <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">9</span><span style="color:#f92672">:</span>                     Positive                                     <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span><span style="color:#f92672">:</span>                     Positive                                     <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span><span style="color:#f92672">:</span>                     Negative                                      <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    Integrated_Clusters_unsup_exp__nature2012
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>                                        <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>                                        <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>                                        <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span>                                        <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span>                                         <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">6</span><span style="color:#f92672">:</span>                                        <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">7</span><span style="color:#f92672">:</span>                                         <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">8</span><span style="color:#f92672">:</span>                                         <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">9</span><span style="color:#f92672">:</span>                                        <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span><span style="color:#f92672">:</span>                                        <span style="color:#66d9ef">NA</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span><span style="color:#f92672">:</span>                                         <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    Integrated_Clusters_with_PAM50__nature2012 Metastasis_Coded_nature2012
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>                                         <span style="color:#66d9ef">NA</span>                    Negative
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>                                         <span style="color:#66d9ef">NA</span>                    Negative
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>                                         <span style="color:#66d9ef">NA</span>                    Negative
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span>                                         <span style="color:#66d9ef">NA</span>                    Negative
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span>                                          <span style="color:#ae81ff">1</span>                    Negative
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">6</span><span style="color:#f92672">:</span>                                         <span style="color:#66d9ef">NA</span>                    Negative
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">7</span><span style="color:#f92672">:</span>                                          <span style="color:#ae81ff">3</span>                    Negative
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">8</span><span style="color:#f92672">:</span>                                          <span style="color:#ae81ff">2</span>                    Negative
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">9</span><span style="color:#f92672">:</span>                                         <span style="color:#66d9ef">NA</span>                    Negative
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span><span style="color:#f92672">:</span>                                         <span style="color:#66d9ef">NA</span>                    Negative
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span><span style="color:#f92672">:</span>                                          <span style="color:#ae81ff">2</span>                    Negative
</span></span><span style="display:flex;"><span>    Metastasis_nature2012
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>                    M0
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>                    M0
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>                    M0
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span>                    M0
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span>                    M0
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">6</span><span style="color:#f92672">:</span>                    M0
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">7</span><span style="color:#f92672">:</span>                    M0
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">8</span><span style="color:#f92672">:</span>                    M0
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">9</span><span style="color:#f92672">:</span>                    M0
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span><span style="color:#f92672">:</span>                    M0
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span><span style="color:#f92672">:</span>                    M0
</span></span></code></pre></div><h3 id="importing-neuroimaging-data">Importing neuroimaging data</h3>
<p>Many <em>R</em> packages can be used to deal with (neuro)imaging data. Here, we use <code>neurobase</code> as an example to show how to import neuroimaging data into <em>R</em> for analysis. The <code>neurobase</code> package needs to be installed from <code>devtools</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">if </span>(<span style="color:#f92672">!</span><span style="color:#e6db74">&#34;devtools&#34;</span> <span style="color:#f92672">%in%</span> <span style="color:#a6e22e">installed.packages</span>()[, <span style="color:#e6db74">&#34;Package&#34;</span>]) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;devtools&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> devtools<span style="color:#f92672">::</span><span style="color:#a6e22e">install_github</span>(<span style="color:#e6db74">&#34;muschellij2/neurobase&#34;</span>)
</span></span></code></pre></div><p>Select to updata <code>1: All</code> when the installation asks which packages would you like to update:
<img src="Screenshot.png" alt="installation"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">library</span>(neurobase)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> t1 <span style="color:#f92672">=</span> neurobase<span style="color:#f92672">::</span><span style="color:#a6e22e">readnii</span>(<span style="color:#e6db74">&#34;./data/training01_01_t1.nii.gz&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">dim</span>(t1)
</span></span><span style="display:flex;"><span>[1] <span style="color:#ae81ff">408</span> <span style="color:#ae81ff">512</span> <span style="color:#ae81ff">152</span>
</span></span></code></pre></div><p>Please notice that the neuroimaging data is read into R as a 3-dimensional array.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">ortho2</span>(<span style="color:#a6e22e">robust_window</span>(t1, probs <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.975</span>)))
</span></span></code></pre></div><p><img src="neuroimaging.png" alt="Brain"></p>
<h2 id="exporting">Exporting</h2>
<ul>
<li>Write data using <code>write.table()</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">write.table</span>(Clin_TCGA_BRCA[1<span style="color:#f92672">:</span><span style="color:#ae81ff">50</span>,], file<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Clin_TCGA_BRCA_first100.txt&#34;</span>, quote<span style="color:#f92672">=</span><span style="color:#66d9ef">FALSE</span>, col.names<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>, row.names<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>, sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;\t&#34;</span>)
</span></span></code></pre></div><p>For meanings for the options &ldquo;quote=&rdquo;, &ldquo;col.names=&rdquo;, &ldquo;row.names=&rdquo;, &ldquo;sep=&rdquo;, and other options, please see <a href="https://www.rdocumentation.org/packages/utils/versions/3.6.2/topics/write.table">here</a>.</p>
<ul>
<li>Write data using <code>write.csv()</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">write.csv</span>(Clin_TCGA_BRCA[1<span style="color:#f92672">:</span><span style="color:#ae81ff">50</span>,], file<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Clin_TCGA_BRCA_first100.csv&#34;</span>)
</span></span></code></pre></div><p>For details about options of &ldquo;write.csv()&rdquo; function, please see <a href="https://www.rdocumentation.org/packages/AlphaPart/versions/0.9.3/topics/write.csv">here</a>.</p>
<ul>
<li>Write neuroimaging data using <code>neurobase</code> package.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> t2 <span style="color:#f92672">&lt;-</span> t1     <span style="color:#75715e"># Copy t1 to t2</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> t2<span style="color:#a6e22e">[which</span>(t1<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">300</span>, arr.ind<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)]  <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">0</span>  <span style="color:#75715e"># Did some thresholding on t2</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">ortho2</span>(<span style="color:#a6e22e">robust_window</span>(t2, probs <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.975</span>))) <span style="color:#75715e"># Visulize the thresholded imaging</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">write_nifti</span>(t2, <span style="color:#e6db74">&#34;./data/thresholded_brainimage.nii.gz&#34;</span>) <span style="color:#75715e"># Write the thresholded image using &#34;write_nifti&#34; function</span>
</span></span></code></pre></div><p><img src="neuroimaging2.png" alt="Thresholded_image"></p>
<h2 id="management">Management</h2>
<p>You should be able to do some simple data management using the methods we talked about in the first three weeks. Here are two examples.</p>
<ul>
<li>Extract the sub-dataset from &ldquo;Clin_TCGA_BRCA&rdquo; data with &ldquo;ER_Status_nature2012&rdquo; being &ldquo;Positive&rdquo;.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">length</span>(<span style="color:#a6e22e">which</span>(Clin_TCGA_BRCA<span style="color:#f92672">$</span>ER_Status_nature2012<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;Positive&#34;</span>))
</span></span><span style="display:flex;"><span>[1] <span style="color:#ae81ff">601</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Clin_TCGA_BRCA_ER_positive <span style="color:#f92672">&lt;-</span> Clin_TCGA_BRCA<span style="color:#a6e22e">[which</span>(Clin_TCGA_BRCA<span style="color:#f92672">$</span>ER_Status_nature2012<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;Positive&#34;</span>),]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">dim</span>(Clin_TCGA_BRCA_ER_positive)
</span></span><span style="display:flex;"><span>[1] <span style="color:#ae81ff">601</span> <span style="color:#ae81ff">194</span>
</span></span></code></pre></div><ul>
<li>Deleting subjects in &ldquo;Clin_TCGA_BRCA&rdquo; data with non-missing (non-empty) values in &ldquo;ER_Status_nature2012&rdquo;.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">length</span>(<span style="color:#a6e22e">which</span>(<span style="color:#a6e22e">is.na</span>(Clin_TCGA_BRCA<span style="color:#f92672">$</span>ER_Status_nature2012)))
</span></span><span style="display:flex;"><span>[1] <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">length</span>(<span style="color:#a6e22e">which</span>(Clin_TCGA_BRCA<span style="color:#f92672">$</span>ER_Status_nature2012<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;&#34;</span>))
</span></span><span style="display:flex;"><span>[1] <span style="color:#ae81ff">465</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Clin_TCGA_BRCA_ER_nonEmpty <span style="color:#f92672">&lt;-</span> Clin_TCGA_BRCA<span style="color:#a6e22e">[which</span>(Clin_TCGA_BRCA<span style="color:#f92672">$</span>ER_Status_nature2012<span style="color:#f92672">!=</span><span style="color:#e6db74">&#34;&#34;</span>),]
</span></span></code></pre></div>
    </div>

    
    



    
    


    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://lyqglyqg.github.io/STAT-818/tags/r/">R</a>
            <a href="https://lyqglyqg.github.io/STAT-818/tags/dataframe/">Dataframe</a>
            <a href="https://lyqglyqg.github.io/STAT-818/tags/read-files/">Read files</a>
            <a href="https://lyqglyqg.github.io/STAT-818/tags/write-files/">Write files</a>
            
        </div>


      
      <nav class="post-nav">
        
          <a class="prev" href="/STAT-818/post/wk5/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">Reproducible Research: Using R Markdown</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/STAT-818/post/wk3/">
            <span class="next-text nav-default">R Objects II: List, Factor, and Data Frame</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  


  
  

  

  
  

  
  

  

  

    

  

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:yli8@kumc.edu" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>


<a href="https://lyqglyqg.github.io/STAT-818/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
  
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2023
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        yli8
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/STAT-818/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/STAT-818/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/STAT-818/js/main.fe83e11b4fbc9193d67e2c9db78bad21f8dc59fca0cacd8c1c3bb071bb16a852.js" integrity="sha256-/oPhG0&#43;8kZPWfiydt4utIfjcWfygys2MHDuwcbsWqFI=" crossorigin="anonymous"></script>



  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>









  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  

















</body>
</html>
